Экспорт видео из Stalker portal
===============================

Скрипт предназначен для выгрузки видеокаталога Stalker portal для возможности просмотра без STB на телевизоре Smart TV.


Установка зависимостей
----------------------

Для установки необходимых для работы программы компонент необходимо выполнить команду:

    pip install -r requirements.txt


Конфигурация
------------

Необходимо создать файл конфигурации

    mv settings.py.sample settings.py

Заполнить значения переменных в соответствии с комментариями.


Запуск
------

Предлагается два варианта экспортных форматов.

**m3u_gen.py**

Экспорт происходит в один файл, группировка происходит по жанрам, параметром group-title.

Запуск производится командой:

    python m3u_gen.py > /var/www/films.m3u

**m3u_gen_cat.py**

Экспорт происходит в несколько плейлистов, группировка происходит по разделам, по жанрам, реализуется вложенность одного плейлиста в другой.

Запуск производится командой:

    python m3u_gen_cat.py

Настройки берутся из конфигурационного файла.

Основной плейлист будет сформирован в `BASE_DIR/films.m3u` (по-умолчанию, `/var/www/video/films.m3u`)

Забрать его можно по URL `http://SERVER_URL/video/films.m3u`
